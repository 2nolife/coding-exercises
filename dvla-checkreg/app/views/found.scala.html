@import model.Vehicle
@import java.text.SimpleDateFormat
@import java.util.Locale
@import java.util.Date
@(title: String, vehicle: Vehicle, sdf: SimpleDateFormat = new SimpleDateFormat("dd MMMM yyyy", Locale.ENGLISH))

<!DOCTYPE html>

<!--[if lt IE 9]><html class="lte-ie8" lang="en"><![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en">
    <!--<![endif]-->

  <head><script id="f5_cspm">(function(){var f5_cspm={f5_p:'COGNFBJHMABEMBHLJKAACGDAKEIJFAFGBLBKMMPLACEBMNCOOMOLJHLAINEAJFGHBCHONMHGKDEEILKKAMFHNMEHFIDBMJOIMBNFAIDBGGOKAOMPOLNDPKJCJKHDNHPB',setCharAt:function(str,index,chr){if(index>str.length-1)return str;return str.substr(0,index)+chr+str.substr(index+1);},get_byte:function(str,i){var s=(i/16)|0;i=(i&15);s=s*32;return((str.charCodeAt(i+16+s)-65)<<4)|(str.charCodeAt(i+s)-65);},set_byte:function(str,i,b){var s=(i/16)|0;i=(i&15);s=s*32;str=f5_cspm.setCharAt(str,(i+16+s),String.fromCharCode((b>>4)+65));str=f5_cspm.setCharAt(str,(i+s),String.fromCharCode((b&15)+65));return str;},set_latency:function(str,latency){latency=latency&0xffff;str=f5_cspm.set_byte(str,32,(latency>>8));str=f5_cspm.set_byte(str,33,(latency&0xff));str=f5_cspm.set_byte(str,27,2);return str;},wait_perf_data:function(){try{var wp=window.performance.timing;if(wp.loadEventEnd>0){var res=wp.loadEventEnd-wp.navigationStart;if(res<60001){var cookie_val=f5_cspm.set_latency(f5_cspm.f5_p,res);window.document.cookie='aaaaaaaaaaaaaaa='+encodeURIComponent(cookie_val)+';path=/';}
    return;}}
  catch(err){return;}
    setTimeout(f5_cspm.wait_perf_data,100);return;},go:function(){var chunk=window.document.cookie.split(/\s*;\s*/);for(var i=0;i<chunk.length;++i){var pair=chunk[i].split(/\s*=\s*/);if(pair[0]=='f5_cspm'){if(pair[1]=='1234'){var d=new Date();d.setTime(d.getTime()-1);window.document.cookie='f5_cspm=;expires='+d.toUTCString()+';path=/;';setTimeout(f5_cspm.wait_perf_data,100);}}}}}
    f5_cspm.go();}());</script>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="og:image" content="https://www.assets.vehicleenquiry.service.gov.uk/vehicleenquiry/Assets/Images/opengraph-image-4e469785ca4cc8f8dd18d0627bc43d19.png" />

    <script type="text/javascript">
            (function () { if (navigator.userAgent.match(/IEMobile\/10\.0/)) { var d = document, c = "appendChild", a = d.createElement("style"); a[c](d.createTextNode("@@-ms-viewport{width:auto!important}")); d.getElementsByTagName("head")[0][c](a); } })();
        </script>
      <!--[if gt IE 8]><!-->
    <link href="https://www.assets.vehicleenquiry.service.gov.uk/vehicleenquiry/Assets/Styles/govuk-template.css?30" media="screen"
    rel="stylesheet" type="text/css" />
      <!--<![endif]-->
      <!--[if IE 6]><link href="https://www.assets.vehicleenquiry.service.gov.uk/vehicleenquiry/Assets/Styles/govuk-template-ie6.css?30" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
      <!--[if IE 7]><link href="https://www.assets.vehicleenquiry.service.gov.uk/vehicleenquiry/Assets/Styles/govuk-template-ie7.css?30" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
      <!--[if IE 8]><link href="https://www.assets.vehicleenquiry.service.gov.uk/vehicleenquiry/Assets/Styles/govuk-template-ie8.css?30" media="screen" rel="stylesheet" type="text/css" /><![endif]-->
    <link href="https://www.assets.vehicleenquiry.service.gov.uk/vehicleenquiry/Assets/Styles/govuk-template-print.css?30" media="print" rel="stylesheet" type="text/css" />

      <!--[if IE 8]>
        <script type="text/javascript">
          (function(){if(window.opera){return;}
           setTimeout(function(){var a=document,g,b={families:(g=
           ["nta"]),urls:["https://www.assets.vehicleenquiry.service.gov.uk/vehicleenquiry/Assets/gds/fonts-ie8-ec274e547d95d22db00164cc291c8611.css"]},
           c="https://www.assets.vehicleenquiry.service.gov.uk/vehicleenquiry/Assets/gds/webfont-debug-96870cf9f159ed811fd43c39bdf4656b.js",d="script",
           e=a.createElement(d),f=a.getElementsByTagName(d)[0],h=g.length;WebFontConfig
           ={custom:b},e.src=c,f.parentNode.insertBefore(e,f);for(;h=h-1;a.documentElement
           .className+=' wf-'+g[h].replace(/\s/g,'').toLowerCase()+'-n4-loading');},0)
          })()
        </script>
        <![endif]-->

      <!--[if gte IE 9]><!-->
    <link href="https://www.assets.vehicleenquiry.service.gov.uk/vehicleenquiry/Assets/gds/fonts-607c54f71c7c1f98257595cedaa13a34.css" media="screen" rel="stylesheet" type="text/css" />
      <!--<![endif]-->

      <!--[if lt IE 9]>
          <script src="https://www.assets.vehicleenquiry.service.gov.uk/vehicleenquiry/Assets/Scripts/ie-fc5bd25c5f46587b9bff917417ab2b7f.js" type="text/javascript"></script>
        <![endif]-->
    <link rel="shortcut icon" href="https://www.assets.vehicleenquiry.service.gov.uk/vehicleenquiry/Assets/Images/favicon-447e4ac1ab790342660eacfe3dcce264.ico"
    type="image/x-icon" />

      <!-- For third-generation iPad with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.assets.vehicleenquiry.service.gov.uk/vehicleenquiry/Assets/Images/apple-touch-icon-114x114-f1d7ccdc7b86d923386b373a9ba5e3db.png" />
      <!-- For iPhone with high-resolution Retina display: -->
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://www.assets.vehicleenquiry.service.gov.uk/vehicleenquiry/Assets/Images/apple-touch-icon-144x144-4e306e01c31e237722b82b7aa7130082.png" />
      <!-- For first- and second-generation iPad: -->
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://www.assets.vehicleenquiry.service.gov.uk/vehicleenquiry/Assets/Images/apple-touch-icon-72x72-2ddbe540853e3ba0d30fbad2a95eab3c.png" />
      <!-- For non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
    <link rel="apple-touch-icon-precomposed" href="https://www.assets.vehicleenquiry.service.gov.uk/vehicleenquiry/Assets/Images/apple-touch-icon-57x57-37527434942ed8407b091aae5feff3f3.png" />

    <title>@title</title>



    <script src="https://www.assets.vehicleenquiry.service.gov.uk/vehicleenquiry/Assets/gds/jquery-1.7.2-2ce4706f8f7193defaa9e7df2b641e9a.js" type="text/javascript"></script>
  </head>



  <body ontouchstart="">

      <script src="/WebResource.axd?d=ylA2f5AA0dz2rQVrlt13hyBpDm2xJY5ReSD-TJwYFi5rer4ad16MhMyvz4ffclX2xEY4Io2qhpunSIcBYl0oZqI4yHs1&amp;t=635802997220000000" type="text/javascript"></script>

      <div class="aspNetHidden">

        <input type="hidden" name="__VIEWSTATEGENERATOR" id="__VIEWSTATEGENERATOR" value="CA0B0334" />
        <input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="/wEdAAWjFnk7DYsh7gDqaa9K7JUznI9B6CfxLIa0k6yGUpe+HJBBc00C26rgDTfGzMJhjY6+5ZbQl03bZw24rWLo2wySNBkEiDIr99g63i+qEW2KUDChvJ+0+7LLNRMM5t7EGc0Y5XTu" />
      </div>
      <script type="text/javascript">                document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');</script>

      <div id="skiplink-container"><div><a href="#wrapper" class="skiplink">Skip to main content</a></div></div>

      <div id="global-cookie-message">
        <p>GOV.UK uses cookies to make the site simpler. <a href="https://www.gov.uk/help/cookies"> Find out more about cookies</a></p>
      </div>
        <!--end global-cookie-message-->

      <header role="banner" class="with-proposition" id="global-header">
        <div class="header-wrapper">
          <div class="header-global">
            <div class="header-logo">
              <a href="https://www.gov.uk/" title="Go to the GOV.UK homepage" id="logo" class="content">
                <img src="https://www.assets.vehicleenquiry.service.gov.uk/vehicleenquiry/Assets/Images/gov.uk_logotype_crown.png" width="35" height="31" alt=""> GOV.UK
              </a>
            </div>
              <!-- inside_header -->
          </div>
          <div class='header-proposition'>
            <div class='content'>
              <nav id='proposition-menu'>
                <a href='/' id='proposition-name'>Vehicle enquiry</a>
              </nav>
            </div>
          </div>
        </div>
      </header>
        <!--end header-->



      <div id="global-header-bar"></div>

        <!--end global-header-bar-->
      <div class="maincontent">
        <div class="phase-banner">
          <p>
            <strong class="phase-tag">BETA</strong>
            <span>This is a new service – your <a href="mailto:evl.feedback@@dvla.gsi.gov.uk?subject=EVL%20BETA%20Service">
                            feedback</a> will help us to improve it.</span>
          </p>
        </div>
      </div>
        <!--end of beta banner-->

      <div id="wrapper">
        <div class="maincontent">
          <script src="https://www.assets.vehicleenquiry.service.gov.uk/vehicleenquiry/Assets/Scripts/typeahead.min.js" type="text/javascript"></script>



          <div class="body-container group">

            <div class="regHeader group" xmlns:utils="urn:utils" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
              <h2><span class="registrationNumberLabel">Registration number: </span><span class="registrationNumber">@vehicle.registrationNumber</span></h2>
            </div>
            <div class="group" xmlns:utils="urn:utils" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
              @defining(vehicle.taxDue.map(x => x.compareTo(new Date)).getOrElse(2)) { num =>
                <div class="@if((0 to 2).contains(num)) { isValidTax } else { isInvalidTax }">
                  <h3>@if((0 to 1).contains(num)) { ✔ } @if(-1 == num) { ! } Taxed</h3>
                  <p>@vehicle.taxDue.map(x => "Tax due: "+sdf.format(x)).getOrElse("No details held by DVLA")</p>
                </div>
              }
              @defining(vehicle.motExpires.map(x => x.compareTo(new Date)).getOrElse(2)) { num =>
                <div class="@if((0 to 2).contains(num)) { isValidMot } else { isInvalidMot }">
                  <h3>@if((0 to 1).contains(num)) { ✔ } @if(-1 == num) { ! } MOT</h3>
                  <p>@vehicle.motExpires.map(x => "MOT expires: " + sdf.format(x)).getOrElse("No details held by DVLA")</p>
                </div>
              }
            </div>
            <div class="application-notice info-notice info-notice-bold group" xmlns:utils="urn:utils" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
              <p>If you have just purchased this vehicle, you must tax it even if it shows as taxed above. Vehicle tax cannot be transferred from keeper to keeper.</p>
              <p>If you have taxed, made a SORN or had an MOT it can take up to 5 days for these details to be shown above.</p>
              <p>You can check with your bank/building society to confirm your payment was successful.</p>
              <p>If you have a valid paper MOT certificate this is proof that the vehicle has been tested.</p>
            </div>
            <h3 xmlns:utils="urn:utils" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      Vehicle details
            </h3>
            <ul class="ul-data" xmlns:utils="urn:utils" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
              <li><span>Vehicle make</span>               <strong>@vehicle.vehicleMake</strong></li>
              <li><span>Date of first registration</span> <strong>@sdf.format(vehicle.dateOfFirstRegistration)</strong></li>
              <li><span>Year of manufacture</span>        <strong>@vehicle.yearOfManufacture</strong></li>
              <li><span>Cylinder capacity (cc)</span>     <strong>@{vehicle.cylinderCapacity}cc</strong></li>
              <li><span>CO₂Emissions</span>               <strong>@vehicle.coEmissions g/km</strong></li>
              <li><span>Fuel type</span>                  <strong>@vehicle.fuelType-</strong></li>
              <li><span>Vehicle status</span>             <strong>@vehicle.vehicleStatus</strong></li>
              <li><span>Vehicle colour</span>             <strong>@vehicle.vehicleColour</strong></li>
              <li><span>Vehicle type approval</span>      <strong>@vehicle.vehicleTypeApproval</strong></li>
              <li><span>Wheelplan</span>                  <strong>@vehicle.wheelplan</strong></li>
              <li><span>Revenue weight</span>             <strong>@vehicle.revenueWeight.map(_+"kg").getOrElse("Not applicable")</strong></li>
            </ul>
            <div class="application-notice info-notice info-notice-bold group" xmlns:utils="urn:utils" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
              <p><strong>Calculating the cost of vehicle tax</strong><br>
                You can use the information above to work out the cost of taxing this vehicle using the
                <a href="https://www.gov.uk/vehicle-tax-rate-tables" rel="external" target="_blank" title="vehicle-tax-rate-tables">vehicle-tax-rate-tables</a> or
                <a href="https://www.gov.uk/government/publications/rates-of-vehicle-tax-v149" rel="external" target="_blank" title="rates-of-vehicle-tax-v149">rates-of-vehicle-tax-v149</a>
                or enter the V5C reference number on the previous page.
              </p>
            </div>
            <div class="group" xmlns:utils="urn:utils" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><span id="toggle-target-button" tabindex="0" role="toggle-link" aria-expanded="false" aria-controls="divNoReminderLetter">
        Incorrect details?
            </span><div id="divNoReminderLetter" aria-hidden="true">
              <p>For further information on the MOT details displayed on your search result please contact:</p>
              <p>
          DVSA for vehicles registered to a GB address or visit the <a href="https://www.gov.uk/browse/driving/mot-insurance" rel="external" target="_blank" title="Vehicle MOT Page">vehicle MOT page</a><br>
                Or <br>
                DVAT for vehicles registered to a Northern Ireland address or visit <a href="http://www.nidirect.gov.uk/index/information-and-services/motoring/mot-and-vehicle-testing.htm" rel="external" target="_blank" title="Vehicle MOT Page">NI Direct</a></p>
              <p>If you think that the details on the vehicle record are incorrect please write to:</p>
              <p>
          CCG<br>
                DVLA<br>
                Swansea<br>
                SA99 1BA
        </p>
              <p>
          Please include the incorrect V5C registration certificate for amendment.
              </p>
            </div>
            </div><input type="Hidden" value="VESConclusion" xmlns:utils="urn:utils" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><input type="Hidden" value="VehicleDetails" xmlns:utils="urn:utils" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
            <div class="action">
              <input type="submit" name="ctl00$MainContent$butFinish" value="Finished" onclick="javascript:location.href = '/finish'" id="MainContent_butFinish" class="button" />

              <div id="divSearchAgain">
                <a id="MainContent_butSearchAgain" href="/enquiry">Search again</a>
              </div>
            </div>

          </div>

        </div>
      </div>

      <footer class="group js-footer" id="footer" role="contentinfo">
        <div class="footer-wrapper">
          <div class="footer-meta">
            <div class="footer-meta-inner">
              <ul>
                <li>
                  <a href="cookies.aspx" target="_blank">Cookies</a>
                </li>
                <li>
                  <a href="terms.aspx" target="_blank">Terms and Conditions</a>
                </li>
                <li>
                  <a id="butEnglish" title="Click to view this site in English" href="javascript:__doPostBack(&#39;ctl00$butEnglish&#39;,&#39;&#39;)">English</a>
                </li>
                <li>
                  <a id="butWelsh" title="Cliciwch i weld y safle hwn yn y Gymraeg" href="javascript:__doPostBack(&#39;ctl00$butWelsh&#39;,&#39;&#39;)">Welsh</a>
                </li>
                <li>
                                    Built by the <a href="https://dvladigital.blog.gov.uk/">Driver & Vehicle Licensing Agency</a> 
                                </li>
              </ul>
              <div class="open-government-licence">
                <p class="logo"><a href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/2/">Open Government Licence</a></p>
                <p>
                                    All content is available under the <a href="http://www.nationalarchives.gov.uk/doc/open-government-licence/version/2">
                                        Open Government Licence v2.0</a>, except where otherwise stated</p>
              </div>
            </div>
            <div class="copyright">
              <a href="http://www.nationalarchives.gov.uk/information-management/our-services/crown-copyright.htm">
                  &copy; Crown copyright</a>
            </div>
          </div>
        </div>
      </footer>
        <!--end footer-->

    <div id="global-app-error" class="app-error hidden"></div>

    <script src="https://assets.digital.cabinet-office.gov.uk/static/govuk-template-c4f303154d2a238bdda4d5cf1ebd8d4487822e4cbc3e4c83e743da869443ce72.js" type="text/javascript"></script>

    <script src="https://assets.digital.cabinet-office.gov.uk/static/libs/jquery/jquery-1.11.3-92dc85369a3bf658db02f5a3f52231ccf961a37627ae12486f4ce34eba12a3dd.js"></script>
    <script src="https://assets.digital.cabinet-office.gov.uk/static/application-234156e0a50d96429d3fe9ab2d8b5280478b9cde609a8e180adbd124382db179.js"></script>


    <script src="https://assets.digital.cabinet-office.gov.uk/frontend/frontend-10f4f61a27c820ff4b83b9a886caa1ee9ba490f267c271c8cfc6ddab7bcdbb15.js"></script>


  </body>
</html>

